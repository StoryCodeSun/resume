import{C as i,R as n,O as t,P as s,y as e,g as o,l as a,v as r,x as l,G as c,H as d,I as h,B as u,z as p}from"./tsparticles-engine-1e3d91c8.js";class k extends i{constructor(i,n,t,s){super(i,n,t),this.canvasSize=s,this.canvasSize={...s}}contains(i){const{width:n,height:t}=this.canvasSize,{x:s,y:e}=i;return super.contains(i)||super.contains({x:s-n,y:e})||super.contains({x:s-n,y:e-t})||super.contains({x:s,y:e-t})}intersects(t){if(super.intersects(t))return!0;const s=t,e=t,o={x:t.position.x-this.canvasSize.width,y:t.position.y-this.canvasSize.height};if(void 0!==e.radius){const n=new i(o.x,o.y,2*e.radius);return super.intersects(n)}if(void 0!==s.size){const i=new n(o.x,o.y,2*s.size.width,2*s.size.height);return super.intersects(i)}return!1}}class y{constructor(){this.blur=5,this.color=new t,this.color.value="#000",this.enable=!1}load(i){i&&(void 0!==i.blur&&(this.blur=i.blur),this.color=t.create(this.color,i.color),void 0!==i.enable&&(this.enable=i.enable))}}class f{constructor(){this.enable=!1,this.frequency=1}load(i){i&&(void 0!==i.color&&(this.color=t.create(this.color,i.color)),void 0!==i.enable&&(this.enable=i.enable),void 0!==i.frequency&&(this.frequency=i.frequency),void 0!==i.opacity&&(this.opacity=i.opacity))}}class g{constructor(){this.blink=!1,this.color=new t,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new y,this.triangles=new f,this.width=1,this.warp=!1}load(i){i&&(void 0!==i.id&&(this.id=i.id),void 0!==i.blink&&(this.blink=i.blink),this.color=t.create(this.color,i.color),void 0!==i.consent&&(this.consent=i.consent),void 0!==i.distance&&(this.distance=i.distance),void 0!==i.enable&&(this.enable=i.enable),void 0!==i.frequency&&(this.frequency=i.frequency),void 0!==i.opacity&&(this.opacity=i.opacity),this.shadow.load(i.shadow),this.triangles.load(i.triangles),void 0!==i.width&&(this.width=i.width),void 0!==i.warp&&(this.warp=i.warp))}}function w(i,n,t,s,e){const{dx:a,dy:r,distance:l}=o(i,n);if(!e||l<=t)return l;const c={x:Math.abs(a),y:Math.abs(r)},d=Math.min(c.x,s.width-c.x),h=Math.min(c.y,s.height-c.y);return Math.sqrt(d**2+h**2)}class v extends s{constructor(i){super(i),this._setColor=i=>{if(!i.options.links)return;const n=this.linkContainer,t=i.options.links;let s=void 0===t.id?n.particles.linksColor:n.particles.linksColors.get(t.id);if(s)return;const o=t.color;s=e(o,t.blink,t.consent),void 0===t.id?n.particles.linksColor=s:n.particles.linksColors.set(t.id,s)},this.linkContainer=i}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(n){if(!n.options.links)return;n.links=[];const t=n.getPosition(),s=this.container,e=s.canvas.size;if(t.x<0||t.y<0||t.x>e.width||t.y>e.height)return;const o=n.options.links,a=o.opacity,r=n.retina.linksDistance??0,l=o.warp,c=l?new k(t.x,t.y,r,e):new i(t.x,t.y,r),d=s.particles.quadTree.query(c);for(const i of d){const s=i.options.links;if(n===i||!(null==s?void 0:s.enable)||o.id!==s.id||i.spawning||i.destroyed||!i.links||n.links.some((n=>n.destination===i))||i.links.some((i=>i.destination===n)))continue;const c=i.getPosition();if(c.x<0||c.y<0||c.x>e.width||c.y>e.height)continue;const d=w(t,c,r,e,l&&s.warp);if(d>r)continue;const h=(1-d/r)*a;this._setColor(n),n.links.push({destination:i,opacity:h})}}isEnabled(i){var n;return!!(null==(n=i.options.links)?void 0:n.enable)}loadParticlesOptions(i,...n){i.links||(i.links=new g);for(const t of n)i.links.load((null==t?void 0:t.links)??(null==t?void 0:t.lineLinked)??(null==t?void 0:t.line_linked))}reset(){}}function x(i,n){const t=((s=i.map((i=>i.id))).sort(((i,n)=>i-n)),s.join("_"));var s;let e=n.get(t);return void 0===e&&(e=h(),n.set(t,e)),e}class b{constructor(i){this.container=i,this._drawLinkLine=(i,n)=>{const t=this.container,s=t.actualOptions,e=n.destination,d=i.getPosition(),k=e.getPosition();let y=n.opacity;t.canvas.draw((n=>{var f;if(!i.options.links)return;let g;const w=null==(f=i.options.twinkle)?void 0:f.lines;if(null==w?void 0:w.enable){const i=w.frequency,n=c(w.color);h()<i&&n&&(g=n,y=u(w.opacity))}const v=i.options.links;if(!g){const n=void 0!==(null==v?void 0:v.id)?t.particles.linksColors.get(v.id):t.particles.linksColor;g=p(i,e,n)}if(!g)return;const x=i.retina.linksWidth??0,b=i.retina.linksDistance??0,{backgroundMask:q}=s;!function(i){let n=!1;const{begin:t,end:s,maxDistance:e,context:d,canvasSize:h,width:u,backgroundMask:p,colorLine:k,opacity:y,links:f}=i;if(a(t,s)<=e)r(d,t,s),n=!0;else if(f.warp){let i,a;const l={x:s.x-h.width,y:s.y},c=o(t,l);if(c.distance<=e){const n=t.y-c.dy/c.dx*t.x;i={x:0,y:n},a={x:h.width,y:n}}else{const n={x:s.x,y:s.y-h.height},r=o(t,n);if(r.distance<=e){const n=-(t.y-r.dy/r.dx*t.x)/(r.dy/r.dx);i={x:n,y:0},a={x:n,y:h.height}}else{const n={x:s.x-h.width,y:s.y-h.height},r=o(t,n);if(r.distance<=e){const n=t.y-r.dy/r.dx*t.x;i={x:-n/(r.dy/r.dx),y:n},a={x:i.x+h.width,y:i.y+h.height}}}}i&&a&&(r(d,t,i),r(d,s,a),n=!0)}if(!n)return;d.lineWidth=u,p.enable&&(d.globalCompositeOperation=p.composite),d.strokeStyle=l(k,y);const{shadow:g}=f;if(g.enable){const i=c(g.color);i&&(d.shadowBlur=g.blur,d.shadowColor=l(i))}d.stroke()}({context:n,width:x,begin:d,end:k,maxDistance:b,canvasSize:t.canvas.size,links:v,backgroundMask:q,colorLine:g,opacity:y})}))},this._drawLinkTriangle=(i,n,t)=>{if(!i.options.links)return;const s=this.container,e=s.actualOptions,o=n.destination,r=t.destination,h=i.options.links.triangles,u=h.opacity??(n.opacity+t.opacity)/2;u<=0||s.canvas.draw((n=>{const t=i.getPosition(),k=o.getPosition(),y=r.getPosition(),f=i.retina.linksDistance??0;if(a(t,k)>f||a(y,k)>f||a(y,t)>f)return;let g=c(h.color);if(!g){const n=i.options.links,t=void 0!==(null==n?void 0:n.id)?s.particles.linksColors.get(n.id):s.particles.linksColor;g=p(i,o,t)}g&&function(i){const{context:n,pos1:t,pos2:s,pos3:e,backgroundMask:o,colorTriangle:a,opacityTriangle:r}=i;d(n,t,s,e),o.enable&&(n.globalCompositeOperation=o.composite),n.fillStyle=l(a,r),n.fill()}({context:n,pos1:t,pos2:k,pos3:y,backgroundMask:e.backgroundMask,colorTriangle:g,opacityTriangle:u})}))},this._drawTriangles=(i,n,t,s)=>{var e,o,a;const r=t.destination;if(!(null==(e=i.links)?void 0:e.triangles.enable)||!(null==(o=r.options.links)?void 0:o.triangles.enable))return;const l=null==(a=r.links)?void 0:a.filter((i=>{const n=this._getLinkFrequency(r,i.destination);return r.options.links&&n<=r.options.links.frequency&&s.findIndex((n=>n.destination===i.destination))>=0}));if(null==l?void 0:l.length)for(const c of l){const s=c.destination;this._getTriangleFrequency(n,r,s)>i.links.triangles.frequency||this._drawLinkTriangle(n,t,c)}},this._getLinkFrequency=(i,n)=>x([i,n],this._freqs.links),this._getTriangleFrequency=(i,n,t)=>x([i,n,t],this._freqs.triangles),this._freqs={links:new Map,triangles:new Map}}drawParticle(i,n){const{links:t,options:s}=n;if(!t||t.length<=0)return;const e=t.filter((i=>s.links&&this._getLinkFrequency(n,i.destination)<=s.links.frequency));for(const o of e)this._drawTriangles(s,n,o,e),o.opacity>0&&(n.retina.linksWidth??0)>0&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(i){if(i.links=[],!i.options.links)return;const n=this.container.retina.pixelRatio,{retina:t}=i,{distance:s,width:e}=i.options.links;t.linksDistance=s*n,t.linksWidth=e*n}particleDestroyed(i){i.links=[]}}class q{constructor(){this.id="links"}getPlugin(i){return new b(i)}loadOptions(){}needsPlugin(){return!0}}async function C(i,n=!0){await async function(i,n=!0){await i.addInteractor("particlesLinks",(i=>new v(i)),n)}(i,n),await async function(i,n=!0){const t=new q;await i.addPlugin(t,n)}(i,n)}export{C as l};
