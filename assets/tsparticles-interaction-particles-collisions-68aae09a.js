import{c as o,b as i,d as e,B as s,P as t,l as n}from"./tsparticles-engine-1e3d91c8.js";function a(i,e,s,t,n,a){const d=o(i.options.collisions.absorb.speed*n.factor/10,0,t);i.size.value+=d/2,s.size.value-=d,t<=a&&(s.size.value=0,s.destroy())}const d=o=>{void 0===o.collisionMaxSpeed&&(o.collisionMaxSpeed=s(o.options.collisions.maxSpeed)),o.velocity.length>o.collisionMaxSpeed&&(o.velocity.length=o.collisionMaxSpeed)};function c(o,s){i(e(o),e(s)),d(o),d(s)}function l(o,i,e,s){switch(o.options.collisions.mode){case"absorb":!function(o,i,e,s){const t=o.getRadius(),n=i.getRadius();void 0===t&&void 0!==n?o.destroy():void 0!==t&&void 0===n?i.destroy():void 0!==t&&void 0!==n&&(t>=n?a(o,0,i,n,e,s):a(i,0,o,t,e,s))}(o,i,e,s);break;case"bounce":c(o,i);break;case"destroy":!function(o,i){o.unbreakable||i.unbreakable||c(o,i),void 0===o.getRadius()&&void 0!==i.getRadius()?o.destroy():void 0!==o.getRadius()&&void 0===i.getRadius()?i.destroy():void 0!==o.getRadius()&&void 0!==i.getRadius()&&(o.getRadius()>=i.getRadius()?i:o).destroy()}(o,i)}}class r extends t{constructor(o){super(o)}clear(){}init(){}async interact(o,i){if(o.destroyed||o.spawning)return;const e=this.container,s=o.getPosition(),t=o.getRadius(),a=e.particles.quadTree.queryCircle(s,2*t);for(const d of a){if(o===d||!d.options.collisions.enable||o.options.collisions.mode!==d.options.collisions.mode||d.destroyed||d.spawning)continue;const a=d.getPosition(),c=d.getRadius();if(Math.abs(Math.round(s.z)-Math.round(a.z))>t+c)continue;n(s,a)>t+c||l(o,d,i,e.retina.pixelRatio)}}isEnabled(o){return o.options.collisions.enable}reset(){}}async function u(o,i=!0){await o.addInteractor("particlesCollisions",(o=>new r(o)),i)}export{u as l};
